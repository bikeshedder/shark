{% extends "grappelli/dashboard/module.html" %}

{% block module_content %}
<div class="grp-module">
    <ul class="grp-tools">
        <li><a href="{% url 'admin:project_project_changelist' %}" class="grp-icon grp-viewsite-link"></a></li>
        <li><a href="{% url 'admin:project_project_add' %}" class="grp-icon grp-add-handler"></a></li>
    </ul>
    {% for project in module.projects %}
    <div class="grp-row">
        <div class="g-d-4">
            <a href={% url 'admin:project_project_change' object_id=project.id %}>
                <p>{{ project.name }}</p>
                <i>{{ project.customer }}</i>
            </a>
        </div>
        <ul class="grp-tools">
            <li><a href="{% url 'admin:billing_invoice_add' %}?project={{ project.id }}" class="grp-icon-text grp-viewsite-link">Create invoice</a></li>
            <li><a href="{% url 'admin:project_task_changelist' %}?project={{ project.id }}" class="grp-icon-text grp-viewsite-link">View Tasks</a></li>
        </ul>
    </div>
    {% empty %}
    <div class="grp-row">No projects.</div>
    {% endfor %}
</div>
{% endblock %}
